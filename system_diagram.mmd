%% AI of AI ì‹œìŠ¤í…œ êµ¬ì„±ë„
%% ìƒì„±ì¼: 2025-10-08

graph TB
    %% ========== í”„ë¡ íŠ¸ì—”ë“œ ==========
    subgraph Frontend["ğŸ–¥ï¸ í”„ë¡ íŠ¸ì—”ë“œ (React 18)"]
        direction LR
        FE1["ğŸ“‹ ì˜ìƒ ëª©ë¡<br/><small>VideoListPage</small>"]
        FE2["ğŸ’¬ ì˜ìƒ ì±„íŒ…<br/><small>VideoChatPage</small>"]
        FE3["âœ¨ ì¼ë°˜ ì±„íŒ…<br/><small>TextChatPage</small>"]
        FE4["ğŸ“¸ OCR ë„êµ¬<br/><small>OCRToolPage</small>"]
    end
    
    %% ========== API ê²Œì´íŠ¸ì›¨ì´ ==========
    subgraph Gateway["ğŸŒ API ê²Œì´íŠ¸ì›¨ì´ (Django REST)"]
        direction TB
        API1["ğŸ“¤ ì˜ìƒ ì—…ë¡œë“œ<br/><small>upload/</small>"]
        API2["ğŸ” ê²€ìƒ‰ API<br/><small>search/</small>"]
        API3["ğŸ¤– í†µí•© ì±„íŒ…<br/><small>chat/integrated/</small>"]
        API4["ğŸ“ ìš”ì•½ API<br/><small>summary/</small>"]
    end
    
    %% ========== ì˜ìƒ ë¶„ì„ ==========
    subgraph VideoAnalysis["ğŸ¬ ì˜ìƒ ë¶„ì„ íŒŒì´í”„ë¼ì¸"]
        direction TB
        VA1["1ï¸âƒ£ í”„ë ˆì„ ì¶”ì¶œ<br/><small>ì ì‘í˜• ìƒ˜í”Œë§</small>"]
        VA2["2ï¸âƒ£ ì‚¬ëŒ ê°ì§€<br/><small>YOLO v8</small>"]
        VA3["3ï¸âƒ£ ì–¼êµ´ ë¶„ì„<br/><small>DeepFace 98%</small>"]
        VA4["4ï¸âƒ£ ì˜ìƒ ìƒ‰ìƒ<br/><small>OpenCV HSV</small>"]
        VA5["5ï¸âƒ£ ì¥ë©´ ìº¡ì…˜<br/><small>BLIP-2</small>"]
        VA6["ğŸ†˜ ê³ ê¸‰ ë¶„ì„<br/><small>GPT-4V 2%</small>"]
        
        VA1 --> VA2
        VA2 --> VA3
        VA3 --> VA4
        VA3 -.DeepFace ì‹¤íŒ¨.-> VA6
        VA4 --> VA5
        VA6 -.í´ë°±.-> VA5
    end
    
    %% ========== ê²€ìƒ‰ ì—”ì§„ ==========
    subgraph Search["ğŸ” ê²€ìƒ‰ ì—”ì§„"]
        direction LR
        SE1["ğŸ‘¤ ì¸ë¬¼ ê²€ìƒ‰<br/><small>ì„±ë³„/ë‚˜ì´/ê°ì •</small>"]
        SE2["ğŸ¨ ìƒ‰ìƒ ê²€ìƒ‰<br/><small>ìƒ/í•˜ì˜ 10ìƒ‰</small>"]
        SE3["â° ì‹œê°„ëŒ€ ê²€ìƒ‰<br/><small>íƒ€ì„ìŠ¤íƒ¬í”„</small>"]
        SE4["ğŸ§  ì‹œë§¨í‹± ê²€ìƒ‰<br/><small>ì˜ë¯¸ ê¸°ë°˜</small>"]
    end
    
    %% ========== AI ì²˜ë¦¬ ==========
    subgraph AICore["ğŸ§  AI ì²˜ë¦¬ ì—”ì§„"]
        direction TB
        
        subgraph LLMs["ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸"]
            direction LR
            L1["GPT-4o<br/><small>ì°½ì˜ì„±</small>"]
            L2["Claude 3.5<br/><small>ë¶„ì„ë ¥</small>"]
            L3["Mixtral<br/><small>íš¨ìœ¨ì„±</small>"]
        end
        
        subgraph Processing["ì²˜ë¦¬ ê³„ì¸µ"]
            direction TB
            P1["âš¡ ì•™ìƒë¸”<br/><small>ìµœì  ë‹µë³€</small>"]
            P2["ğŸ“ ì²¨ë¶€ ë¶„ì„<br/><small>PDF/ì´ë¯¸ì§€ OCR</small>"]
            P3["ğŸ’¾ ìºì‹œ<br/><small>LLM ì‘ë‹µ</small>"]
        end
        
        L1 --> P1
        L2 --> P1
        L3 --> P1
        P1 --> P2
        P3 -.ìºì‹±.-> L1 & L2 & L3
    end
    
    %% ========== ê²€ì¦ ì‹œìŠ¤í…œ ==========
    subgraph Verification["âœ… ê²€ì¦ ì‹œìŠ¤í…œ"]
        direction TB
        V1["ğŸ“– ì‚¬ì‹¤ ê²€ì¦<br/><small>Wikipedia API</small>"]
        V2["ğŸ”— RAG ê²€ì¦<br/><small>LangChain FAISS</small>"]
        V3["ğŸ“Š í‰ê°€ ì§€í‘œ<br/><small>ì‹ ë¢°ë„ 95%</small>"]
        V4["ğŸ¯ ì•™ìƒë¸” í•™ìŠµ<br/><small>ëª¨ë¸ ê°€ì¤‘ì¹˜</small>"]
        
        P1 --> V1
        P1 --> V2
        V1 --> V3
        V2 --> V3
        V3 --> V4
    end
    
    %% ========== ì™¸ë¶€ ì„œë¹„ìŠ¤ ==========
    subgraph External["ğŸŒ ì™¸ë¶€ API"]
        direction TB
        EX1["ğŸ“š Wikipedia<br/><small>í•œê¸€/ì˜ì–´ ìë™ì „í™˜</small>"]
        EX2["ğŸ” Google Search<br/><small>í´ë°± ê²€ìƒ‰</small>"]
        EX3["â˜ï¸ OpenAI<br/><small>GPT API</small>"]
        EX4["â˜ï¸ Anthropic<br/><small>Claude API</small>"]
        EX5["â˜ï¸ Groq<br/><small>Mixtral API</small>"]
    end
    
    %% ========== ë°ì´í„° ì €ì¥ì†Œ ==========
    subgraph DataLayer["ğŸ’¾ ë°ì´í„° ê³„ì¸µ"]
        direction LR
        D1["ğŸ—„ï¸ SQLite<br/><small>ë©”íƒ€ë°ì´í„°</small>"]
        D2["ğŸ“„ JSON<br/><small>ë¶„ì„ ê²°ê³¼ 6Kì¤„</small>"]
        D3["ğŸ–¼ï¸ ë¯¸ë””ì–´<br/><small>ì˜ìƒ/ì´ë¯¸ì§€</small>"]
        D4["âš¡ ìºì‹œ<br/><small>Redis ìŠ¤íƒ€ì¼</small>"]
    end
    
    %% ========== ì—°ê²° ==========
    Frontend ==>|"HTTP/REST"| Gateway
    Gateway ==>|"ë¶„ì„ ìš”ì²­"| VideoAnalysis
    Gateway ==>|"ê²€ìƒ‰ ìš”ì²­"| Search
    Gateway ==>|"ì±„íŒ… ìš”ì²­"| AICore
    
    VideoAnalysis ==>|"ê²°ê³¼ ì €ì¥"| DataLayer
    Search -.->|"ë°ì´í„° ì¡°íšŒ"| DataLayer
    AICore ==>|"ê²€ì¦ ìš”ì²­"| Verification
    
    Verification -.->|"ì‚¬ì‹¤ í™•ì¸"| External
    AICore -.->|"API í˜¸ì¶œ"| External
    
    VideoAnalysis -.->|"ì˜ìƒ ì½ê¸°"| D3
    Search -.->|"JSON ê²€ìƒ‰"| D2
    
    %% ========== ìŠ¤íƒ€ì¼ ì •ì˜ ==========
    classDef frontend fill:#E3F2FD,stroke:#1976D2,stroke-width:3px,color:#000
    classDef gateway fill:#FFF3E0,stroke:#F57C00,stroke-width:3px,color:#000
    classDef video fill:#FCE4EC,stroke:#C2185B,stroke-width:3px,color:#000
    classDef search fill:#F3E5F5,stroke:#7B1FA2,stroke-width:3px,color:#000
    classDef ai fill:#E8F5E9,stroke:#388E3C,stroke-width:3px,color:#000
    classDef verify fill:#FFF9C4,stroke:#F57F17,stroke-width:3px,color:#000
    classDef external fill:#E0F2F1,stroke:#00796B,stroke-width:3px,color:#000
    classDef data fill:#EFEBE9,stroke:#5D4037,stroke-width:3px,color:#000
    classDef highlight fill:#FFEB3B,stroke:#F57F17,stroke-width:4px,color:#000
    classDef optional fill:#FFECB3,stroke:#FF6F00,stroke-width:2px,stroke-dasharray:5 5,color:#000
    
    class Frontend frontend
    class Gateway gateway
    class VideoAnalysis video
    class Search search
    class AICore,LLMs,Processing ai
    class Verification verify
    class External external
    class DataLayer data
    class FE3,API3,P1,P3,V1,V4 highlight
    class VA6,EX2 optional

